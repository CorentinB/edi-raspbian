---
- name: Install specific version of native linux-libc-dev.
  apt: name=linux-libc-dev state=present default_release=jessie-updates
  when: enable_cross_development

- name: Download corresponding armhf version of linux-libc-dev.
  get_url: url={{ linux_libc_dev_package_location }}/{{ linux_libc_dev_package }} dest=/tmp/{{ linux_libc_dev_package }}
  when: enable_cross_development

- name: Install the downloaded armhf version of linux-libc-dev.
  command: bash -c "dpkg -i /tmp/{{ linux_libc_dev_package }} && touch /etc/linux-libc-dev.installed.edi" creates=/etc/linux-libc-dev.installed.edi
  when: enable_cross_development

- name: Install base development tools.
  apt: name={{ item }} state=present
  with_items: "{{ base_development_tools }}"

- name: Install cross development tools.
  apt: name={{ item }} state=present
  with_items: "{{ cross_development_tools }}"
  when: enable_cross_development

- name: Install backported cross development tools.
  apt: name={{ item }} state=latest default_release=jessie-backports
  with_items: "{{backported_cross_development_tools}}"
  when: enable_cross_development

