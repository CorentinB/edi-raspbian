---
- name: Remove /etc/apt/sources.list.
  file: dest=/etc/apt/sources.list state=absent

- name: Add emdebian toolchain apt-key.
  apt_key: data="{{ lookup('file', 'emdebian-toolchain-archive.key') }}" state=present
  when: enable_cross_development

- name: Add raspbian toolchain apt-key.
  apt_key: data="{{ lookup('file', 'raspbian.public.key') }}" state=present
  when: enable_cross_development

- name: Add emdebian cross compiler repository.
  copy: src=emdebian_jessie_tools.list dest=/etc/apt/sources.list.d/emdebian_jessie_tools.list
  when: enable_cross_development

- name: Add jessie repository for amd64 binaries.
  copy: src=jessie.list dest=/etc/apt/sources.list.d/jessie.list
  when: enable_cross_development

- name: Add raspbian jessie repository for armhf binaries and source packages.
  copy: src=raspbian_jessie.list dest=/etc/apt/sources.list.d/raspbian_jessie.list

- name: Update apt cache.
  apt: update_cache=yes

